import org.openhab.core.library.types.*
import org.openhab.core.persistence.*
import org.openhab.model.script.actions.*

rule "soundTheAlarm"
when
  Item PIR1 changed from OPEN to CLOSED
then
  sendCommand(AlarmLight, ON)
end

rule "endTheAlarm"
when
  Item PIR1 changed from CLOSED to OPEN
then
  sendCommand(AlarmLight, OFF)
end

rule "FamilyRoomLights"
when
  Item FamilyRoomLights received command
then
	if (FamilyRoomLights.state == ON) {
		logInfo('1', executeCommandLine("/opt/433mhz-transceiver/RCSwitch.sh 1_on"))
  		logInfo('2', executeCommandLine("/opt/433mhz-transceiver/RCSwitch.sh 2_on"))
  	} else {
  		logInfo('4', executeCommandLine("/opt/433mhz-transceiver/RCSwitch.sh 1_off"))
  		logInfo('4', executeCommandLine("/opt/433mhz-transceiver/RCSwitch.sh 2_off"))
  	}
  		
end

